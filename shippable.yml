language: none

services:
   - mysql
   - selenium
   - sqlite
   - postgres
   - redis
   - neo4j
   - rabbitmq
   - mongodb
   - memcached
   - riak
   - elasticsearch
   - couchdb


build:

  pre_ci:
    - wget https://raw.githubusercontent.com/vijayreddy1991/u14-services/master/neo4j.sh
    - echo "FROM drydock/u14all:master" > Dockerfile
    - echo "ADD neo4j.sh /usr/local/bin/shippable_services/neo4j.sh" >> Dockerfile
    - docker build -t=drydock/u14all:test -f Dockerfile .
  pre_ci_boot:
    image_name: drydock/u14all
    image_tag: test
    pull: false
    
    
  ci:
    - mysql --version
    - java -jar /usr/local/selenium/selenium-server-standalone-3.14.0.jar --version
    - sqlite3 --version
    - psql --version
    - redis-server --version
    - /var/lib/neo4j/bin/neo4j version
    - dpkg -s rabbitmq-server | grep Version
    - mongod --version
    - memcached --version
    - riak version
    - elasticsearch --version
    - sleep 5
    - curl http://127.0.0.1:5984
    - cassandra -v
    - pip show pycrypto
    
